trigger:
  branches:
    include: [ main ]

stages:
# ğŸ—ï¸ BUILD ----------------------------------------------
- stage: Build
  pool:
    name: MahlzeitExpress
  jobs:
    - job: Build
      steps:
        - script: echo "ğŸ“¦ Kompiliere Projekt"

# ğŸ§ª TEST (lÃ¤uft nach Build) ----------------------------
- stage: Test
  dependsOn: Build
  pool:
    name: MahlzeitExpress
  jobs:
    - job: RunTests
      steps:
        - script: echo "ğŸ§ª FÃ¼hre Unit-Tests aus"

# ğŸ” LINT (lÃ¤uft parallel zu Test) ----------------------
- stage: Lint
  dependsOn: Build         # nur Build nÃ¶tig
  pool:
    name: MahlzeitExpress
  jobs:
    - job: RunLint
      steps:
        - script: echo "ğŸ” Linter prÃ¼ft CodequalitÃ¤t"

# ğŸš€ DEPLOY (wartet auf Test und Lint) ------------------
- stage: Deploy
  dependsOn:
    - Test
    - Lint
  pool:
    name: MahlzeitExpress
  jobs:
    - job: Release
      steps:
        - script: echo "ğŸš€ Deployment auf PROD"
